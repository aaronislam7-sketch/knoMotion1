@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Fonts - loaded via CDN for dev, can be bundled for production */
@import url('https://fonts.googleapis.com/css2?family=Cabin+Sketch:wght@400;700&family=Caveat:wght@400;500;600;700&family=Inter:wght@400;500;600;700&family=Permanent+Marker&display=swap');

@layer base {
  :root {
    /* CSS Custom Properties matching KNODE_THEME */
    --kno-surface: #FFF9F0;
    --kno-board: #FFFFFF;
    --kno-ink: #2C3E50;
    --kno-ink-soft: #5D6D7E;
    --kno-ink-muted: #95A5A6;
    --kno-primary: #FF6B35;
    --kno-secondary: #9B59B6;
    --kno-accent-green: #27AE60;
    --kno-accent-blue: #3498DB;
    --kno-highlight: #F39C12;
    --kno-rule: #F0D9B5;
    --kno-doodle: #F39C12;
    
    /* Shadows */
    --kno-shadow-card: 0 14px 30px rgba(0,0,0,0.08);
    --kno-shadow-soft: 0 8px 18px rgba(0,0,0,0.05);
    
    /* Radii */
    --kno-radius-card: 1.125rem;
    --kno-radius-soft: 1.5rem;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-kno-surface text-kno-ink font-body antialiased;
    min-height: 100vh;
  }

  /* Smooth transitions for interactive elements */
  button, a, [role="button"] {
    @apply transition-all duration-200 ease-out;
  }
}

@layer components {
  /* Card base styles */
  .kno-card {
    @apply bg-kno-board rounded-card shadow-card p-6;
  }

  .kno-card-bordered {
    @apply bg-kno-board rounded-card border-2 border-kno-ink/10 p-6;
  }

  .kno-card-glass {
    @apply bg-white/95 backdrop-blur-sm rounded-card shadow-soft p-6;
  }

  /* Text styles matching KnoMotion */
  .kno-title {
    @apply font-header text-kno-ink;
  }

  .kno-display {
    @apply font-display text-kno-ink;
  }

  .kno-body {
    @apply font-body text-kno-ink;
  }

  .kno-accent {
    @apply font-accent text-kno-ink;
  }

  /* Interactive states */
  .kno-interactive {
    @apply cursor-pointer hover:shadow-lg hover:-translate-y-0.5 
           active:translate-y-0 active:shadow-card
           transition-all duration-200;
  }

  /* Focus ring for accessibility */
  .kno-focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-kno-primary/50 focus:ring-offset-2;
  }

  /* Progress indicator */
  .kno-progress {
    @apply h-2 bg-kno-rule rounded-full overflow-hidden;
  }

  .kno-progress-fill {
    @apply h-full bg-kno-primary rounded-full transition-all duration-500 ease-out;
  }
}

@layer utilities {
  /* Subtle hover lift */
  .hover-lift {
    @apply hover:-translate-y-1 hover:shadow-lg transition-all duration-200;
  }

  /* Pulse attention animation */
  .pulse-attention {
    animation: pulse-attention 2s ease-in-out infinite;
  }

  @keyframes pulse-attention {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 0 0 0 0 rgba(255, 107, 53, 0.4);
    }
    50% { 
      transform: scale(1.02);
      box-shadow: 0 0 0 8px rgba(255, 107, 53, 0);
    }
  }

  /* Draw line animation for SVG */
  .draw-line {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: draw-line 1s ease-out forwards;
  }

  @keyframes draw-line {
    to {
      stroke-dashoffset: 0;
    }
  }

  /* Stagger children utility */
  .stagger-children > * {
    --stagger-delay: 0.1s;
    animation-delay: calc(var(--child-index, 0) * var(--stagger-delay));
  }
}
