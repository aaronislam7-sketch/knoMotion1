@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Fonts - loaded via CDN for dev, can be bundled for production */
@import url('https://fonts.googleapis.com/css2?family=Teachers:opsz,wght@8..144,400..800&display=swap');

@layer base {
  :root {
    /* Global visual system for KnoSlides */
    --kno-surface: #f2f5fa;
    --kno-board: #FFFFFF;
    --kno-ink: #1f2937;
    --kno-ink-soft: #475569;
    --kno-ink-muted: #64748b;
    --kno-primary: #4f46e5;
    --kno-secondary: #7c3aed;
    --kno-accent-green: #22c55e;
    --kno-accent-blue: #0ea5e9;
    --kno-highlight: #14b8a6;
    --kno-rule: #dce5f3;
    --kno-doodle: #6366f1;

    --kno-shadow-card: 0 8px 24px rgba(15, 23, 42, 0.08);
    --kno-shadow-soft: 0 4px 14px rgba(15, 23, 42, 0.05);
    --kno-radius-card: 0.95rem;
    --kno-radius-soft: 1.2rem;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-kno-surface text-kno-ink font-body antialiased;
    min-height: 100vh;
    font-size: 16px;
    line-height: 1.45;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-body tracking-tight text-kno-ink;
    line-height: 1.2;
  }

  p, li {
    @apply text-kno-ink-soft;
    line-height: 1.5;
  }

  /* Smooth transitions for interactive elements */
  button, a, [role="button"] {
    @apply transition-all duration-200 ease-out;
  }
}

@layer components {
  /* Card base styles */
  .kno-card {
    @apply bg-kno-board rounded-card shadow-card p-6;
  }

  .kno-card-bordered {
    @apply bg-kno-board rounded-card border-2 border-kno-ink/10 p-6;
  }

  .kno-card-glass {
    @apply bg-white/95 backdrop-blur-sm rounded-card shadow-soft p-6;
  }

  /* Text styles matching KnoMotion */
  .kno-title {
    @apply font-header text-kno-ink;
  }

  .kno-display {
    @apply font-display text-kno-ink;
  }

  .kno-body {
    @apply font-body text-kno-ink;
  }

  .kno-accent {
    @apply font-accent text-kno-ink;
  }

  /* Interactive states */
  .kno-interactive {
    @apply cursor-pointer hover:shadow-lg hover:-translate-y-0.5 
           active:translate-y-0 active:shadow-card
           transition-all duration-200;
  }

  /* Focus ring for accessibility */
  .kno-focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-kno-primary/50 focus:ring-offset-2;
  }

  .kno-slide-shell {
    @apply w-full max-w-[88rem] mx-auto px-5 sm:px-8 lg:px-12 xl:px-14 py-7 lg:py-9;
  }

  .kno-panel {
    @apply bg-kno-board rounded-card border border-slate-200/80 shadow-soft;
  }

  .kno-slot-frame {
    @apply bg-white/75 rounded-[1.05rem] border border-slate-200/90 shadow-soft p-3 sm:p-4;
  }

  .kno-panel-header {
    @apply px-4 py-3 border-b border-slate-200/80 bg-slate-50/90;
  }

  .kno-title-main {
    @apply text-[1.65rem] sm:text-[2rem] lg:text-[2.35rem] font-semibold text-slate-900;
  }

  .kno-text-body {
    @apply text-sm sm:text-[15px] text-slate-600 leading-6;
  }

  .kno-text-meta {
    @apply text-xs sm:text-[13px] text-slate-500;
  }

  /* Progress indicator */
  .kno-progress {
    @apply h-2 bg-kno-rule rounded-full overflow-hidden;
  }

  .kno-progress-fill {
    @apply h-full bg-kno-primary rounded-full transition-all duration-500 ease-out;
  }
}

@layer utilities {
  /* Subtle hover lift */
  .hover-lift {
    @apply hover:-translate-y-1 hover:shadow-lg transition-all duration-200;
  }

  /* Pulse attention animation */
  .pulse-attention {
    animation: pulse-attention 2s ease-in-out infinite;
  }

  @keyframes pulse-attention {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 0 0 0 0 rgba(255, 107, 53, 0.4);
    }
    50% { 
      transform: scale(1.02);
      box-shadow: 0 0 0 8px rgba(255, 107, 53, 0);
    }
  }

  /* Draw line animation for SVG */
  .draw-line {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: draw-line 1s ease-out forwards;
  }

  @keyframes draw-line {
    to {
      stroke-dashoffset: 0;
    }
  }

  /* Stagger children utility */
  .stagger-children > * {
    --stagger-delay: 0.1s;
    animation-delay: calc(var(--child-index, 0) * var(--stagger-delay));
  }

  .slot {
    @apply min-w-0;
  }

  .slot-block {
    @apply min-w-0;
  }

  .slot pre {
    @apply text-[13px] leading-6;
  }

  .slot table {
    @apply w-full;
  }
}
