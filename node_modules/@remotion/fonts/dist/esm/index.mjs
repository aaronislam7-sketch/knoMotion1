// src/get-font-format.ts
var getFontFormat = (url) => {
  const ext = url.split(".").pop()?.toLowerCase();
  switch (ext) {
    case "woff2":
      return "woff2";
    case "woff":
      return "woff";
    case "otf":
      return "opentype";
    case "ttf":
      return "truetype";
    default:
      throw new Error(`Could not automatically derive font format from extension: ${ext}. Pass the "format" parameter explicitly.`);
  }
};

// src/load-font.ts
import { cancelRender, continueRender, delayRender } from "remotion";
var loadFont = async ({
  family,
  url,
  ascentOverride,
  descentOverride,
  display,
  featureSettings,
  lineGapOverride,
  stretch,
  style,
  unicodeRange,
  weight,
  format,
  variant
}) => {
  const waitForFont = delayRender(`Loading font ${family} (url: ${url}, format: ${format}, weight: ${weight}, style: ${style}, variant: ${variant}, ascentOverride: ${ascentOverride}, descentOverride: ${descentOverride}, display: ${display}, featureSettings: ${featureSettings}, lineGapOverride: ${lineGapOverride}, stretch: ${stretch}, unicodeRange: ${unicodeRange})`);
  try {
    const fontFormat = format ?? getFontFormat(url);
    const font = new FontFace(family, `url('${url}') format('${fontFormat}')`, {
      ascentOverride,
      descentOverride,
      display,
      featureSettings,
      lineGapOverride,
      stretch,
      style,
      unicodeRange,
      weight,
      variant
    });
    await font.load();
    document.fonts.add(font);
    continueRender(waitForFont);
  } catch (err) {
    cancelRender(err);
  }
};
export {
  loadFont
};
