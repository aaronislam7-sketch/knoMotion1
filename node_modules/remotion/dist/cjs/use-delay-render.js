"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useDelayRender = exports.DelayRenderContextType = void 0;
const react_1 = require("react");
const delay_render_js_1 = require("./delay-render.js");
const use_remotion_environment_js_1 = require("./use-remotion-environment.js");
exports.DelayRenderContextType = (0, react_1.createContext)(null);
const useDelayRender = () => {
    const environment = (0, use_remotion_environment_js_1.useRemotionEnvironment)();
    const scope = (0, react_1.useContext)(exports.DelayRenderContextType);
    const delayRender = (0, react_1.useCallback)((label, options) => {
        return (0, delay_render_js_1.delayRenderInternal)(scope !== null && scope !== void 0 ? scope : (typeof window !== 'undefined' ? window : undefined), environment, label, options);
    }, [environment, scope]);
    const continueRender = (0, react_1.useCallback)((handle) => {
        (0, delay_render_js_1.continueRenderInternal)(scope !== null && scope !== void 0 ? scope : (typeof window !== 'undefined' ? window : undefined), handle, environment);
    }, [environment, scope]);
    return { delayRender, continueRender };
};
exports.useDelayRender = useDelayRender;
