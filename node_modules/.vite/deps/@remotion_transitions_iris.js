import {
  makeCircle,
  translatePath
} from "./chunk-JWAYUXLS.js";
import {
  AbsoluteFill,
  random
} from "./chunk-KLLAORJI.js";
import "./chunk-NXESFFTV.js";
import {
  require_jsx_runtime
} from "./chunk-6PXSGDAH.js";
import {
  require_react
} from "./chunk-DRWLMN53.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/@remotion/transitions/dist/esm/iris.mjs
var import_react = __toESM(require_react(), 1);
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var IrisPresentation = ({ children, presentationDirection, presentationProgress, passedProps }) => {
  const maxRadius = Math.sqrt(passedProps.width ** 2 + passedProps.height ** 2) / 2;
  const minRadius = 0;
  const currentRadius = presentationDirection === "entering" ? minRadius + (maxRadius - minRadius) * presentationProgress : maxRadius - (maxRadius - minRadius) * presentationProgress;
  const { path } = makeCircle({
    radius: currentRadius
  });
  const translatedPath = translatePath(path, passedProps.width / 2 - currentRadius, passedProps.height / 2 - currentRadius);
  const [clipId] = (0, import_react.useState)(() => String(random(null)));
  const style = (0, import_react.useMemo)(() => {
    return {
      width: "100%",
      height: "100%",
      clipPath: presentationDirection === "exiting" ? void 0 : `url(#${clipId})`,
      ...presentationDirection === "entering" ? passedProps.innerEnterStyle : passedProps.innerExitStyle
    };
  }, [
    clipId,
    passedProps.innerEnterStyle,
    passedProps.innerExitStyle,
    presentationDirection
  ]);
  const outerStyle = (0, import_react.useMemo)(() => {
    return presentationDirection === "entering" ? passedProps.outerEnterStyle : passedProps.outerExitStyle;
  }, [
    passedProps.outerEnterStyle,
    passedProps.outerExitStyle,
    presentationDirection
  ]);
  return (0, import_jsx_runtime.jsxs)(AbsoluteFill, {
    style: outerStyle,
    children: [
      (0, import_jsx_runtime.jsx)(AbsoluteFill, {
        style,
        children
      }),
      presentationDirection === "exiting" ? null : (0, import_jsx_runtime.jsx)(AbsoluteFill, {
        children: (0, import_jsx_runtime.jsx)("svg", {
          children: (0, import_jsx_runtime.jsx)("defs", {
            children: (0, import_jsx_runtime.jsx)("clipPath", {
              id: clipId,
              children: (0, import_jsx_runtime.jsx)("path", {
                d: translatedPath,
                fill: "black"
              })
            })
          })
        })
      })
    ]
  });
};
var iris = (props) => {
  return { component: IrisPresentation, props: props ?? {} };
};
export {
  iris
};
//# sourceMappingURL=@remotion_transitions_iris.js.map
