{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TimelineStrip",
  "description": "Dynamic timeline with nodes, labels, badges, and hand-drawn Knode-style reveals",
  "type": "object",
  "required": ["events", "beats"],
  "properties": {
    "events": {
      "type": "array",
      "description": "Array of timeline events",
      "items": {
        "type": "object",
        "required": ["label"],
        "properties": {
          "label": {
            "type": "string",
            "description": "Event label/title"
          },
          "sublabel": {
            "type": "string",
            "description": "Optional subtitle, date, or description"
          },
          "icon": {
            "type": "string",
            "description": "Optional emoji or icon inside the node"
          },
          "badge": {
            "type": "string",
            "description": "Optional badge text above label (e.g., 'Step 1', 'Day 7')"
          },
          "color": {
            "type": "string",
            "description": "Custom node color override"
          },
          "type": {
            "type": "string",
            "enum": ["default", "start", "end", "milestone", "checkpoint", "current"],
            "default": "default",
            "description": "Node type determines visual style. 'start'/'end' auto-assigned if autoStartEnd is true."
          },
          "active": {
            "type": "boolean",
            "default": true,
            "description": "Whether this node is active (highlighted) or inactive (muted)"
          }
        }
      },
      "minItems": 1
    },
    "orientation": {
      "type": "string",
      "enum": ["horizontal", "vertical"],
      "default": "horizontal",
      "description": "Timeline direction"
    },
    "animation": {
      "type": "string",
      "enum": ["pop", "draw", "slide", "bounce", "fade"],
      "default": "draw",
      "description": "Animation type for node reveals. 'draw' gives hand-drawn feel."
    },
    "staggerDelay": {
      "type": "number",
      "default": 0.3,
      "minimum": 0,
      "description": "Delay between nodes in seconds"
    },
    "animationDuration": {
      "type": "number",
      "default": 0.5,
      "minimum": 0.1,
      "description": "Animation duration per node in seconds"
    },
    "connectorStyle": {
      "type": "string",
      "enum": ["solid", "dashed", "dotted", "curved"],
      "default": "dashed",
      "description": "Style of connecting lines between nodes"
    },
    "nodeSize": {
      "type": "number",
      "minimum": 20,
      "maximum": 100,
      "description": "Base size of node markers in pixels (auto-calculated if not provided)"
    },
    "showConnectors": {
      "type": "boolean",
      "default": true,
      "description": "Show connecting lines between nodes"
    },
    "activeColor": {
      "type": "string",
      "default": "primary",
      "description": "Color for active nodes. Theme keys: primary, secondary, accentGreen, accentBlue. Or hex/rgb."
    },
    "connectorColor": {
      "type": "string",
      "default": "secondary",
      "description": "Color for connector lines. Theme keys or hex/rgb."
    },
    "autoStartEnd": {
      "type": "boolean",
      "default": true,
      "description": "Automatically style first node as 'start' and last as 'end' if not explicitly set"
    },
    "beats": {
      "type": "object",
      "required": ["start"],
      "properties": {
        "start": {
          "type": "number",
          "description": "Start time in seconds"
        }
      }
    },
    "position": {
      "type": "object",
      "description": "Slot position from layout resolver",
      "properties": {
        "left": { "type": "number" },
        "top": { "type": "number" },
        "width": { "type": "number" },
        "height": { "type": "number" }
      }
    },
    "style": {
      "type": "object",
      "description": "Optional style overrides",
      "properties": {
        "nodeWrapper": { "type": "object" },
        "ring": { "type": "object" },
        "node": { "type": "object" },
        "labelContainer": { "type": "object" },
        "badge": { "type": "object" },
        "label": { "type": "object" },
        "sublabel": { "type": "object" }
      }
    }
  },
  "examples": [
    {
      "events": [
        { "label": "Start Journey", "sublabel": "Day 1", "icon": "üöÄ" },
        { "label": "Learn Basics", "sublabel": "Week 1", "badge": "Step 1" },
        { "label": "Practice", "sublabel": "Week 2", "badge": "Step 2", "type": "checkpoint" },
        { "label": "Build Project", "sublabel": "Week 3", "badge": "Step 3", "type": "milestone" },
        { "label": "Master It!", "sublabel": "Month 1", "icon": "üèÜ" }
      ],
      "orientation": "horizontal",
      "animation": "draw",
      "connectorStyle": "dashed",
      "autoStartEnd": true,
      "beats": { "start": 1.0 }
    },
    {
      "events": [
        { "label": "2020", "sublabel": "Foundation", "type": "start" },
        { "label": "2021", "sublabel": "Growth Phase", "type": "milestone", "icon": "üìà" },
        { "label": "2022", "sublabel": "Expansion" },
        { "label": "2023", "sublabel": "Current", "type": "current", "icon": "‚≠ê" },
        { "label": "2024", "sublabel": "Vision", "type": "end", "active": false }
      ],
      "orientation": "vertical",
      "animation": "pop",
      "connectorStyle": "curved",
      "activeColor": "accentGreen",
      "beats": { "start": 0.5 }
    },
    {
      "events": [
        { "label": "Idea", "icon": "üí°", "badge": "Phase 1" },
        { "label": "Design", "icon": "üé®", "badge": "Phase 2" },
        { "label": "Build", "icon": "üîß", "badge": "Phase 3" },
        { "label": "Test", "icon": "üß™", "badge": "Phase 4" },
        { "label": "Launch", "icon": "üöÄ", "badge": "Phase 5" }
      ],
      "connectorStyle": "solid",
      "animation": "bounce",
      "staggerDelay": 0.4,
      "beats": { "start": 1.0 }
    }
  ],
  "nodeTypes": {
    "default": "Standard circular node",
    "start": "Larger circle with dashed ring, green accent, rocket icon by default",
    "end": "Larger circle with dashed ring, primary accent, target icon by default",
    "milestone": "Diamond shape with ring, gold/doodle accent",
    "checkpoint": "Square shape for intermediate markers",
    "current": "Larger circle with ring and pulse animation"
  },
  "sizingBehavior": {
    "description": "TimelineStrip adapts to slot dimensions",
    "width": "Horizontal: uses full slot width with padding. Vertical: nodes at ~left edge, labels to right.",
    "height": "Vertical: uses full slot height with padding. Horizontal: nodes in upper area, labels below.",
    "nodeSize": "Auto-calculated based on slot dimensions, event count, and orientation",
    "spacing": "Events are evenly distributed along the timeline axis"
  }
}
