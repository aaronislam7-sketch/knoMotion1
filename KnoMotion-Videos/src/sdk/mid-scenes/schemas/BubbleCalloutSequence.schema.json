{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BubbleCalloutSequence",
  "description": "Floating speech-bubble callouts with sequential appearance and optional connecting lines",
  "type": "object",
  "required": ["callouts", "beats"],
  "properties": {
    "callouts": {
      "type": "array",
      "description": "Array of callout items",
      "items": {
        "oneOf": [
          {
            "type": "string",
            "description": "Simple text callout"
          },
          {
            "type": "object",
            "required": ["text"],
            "properties": {
              "text": {
                "type": "string",
                "description": "Callout text content"
              },
              "icon": {
                "type": "string",
                "description": "Optional emoji or icon"
              },
              "color": {
                "type": "string",
                "description": "Custom bubble background color"
              },
              "textColor": {
                "type": "string",
                "description": "Custom text color"
              },
              "shape": {
                "type": "string",
                "enum": ["speech", "thought", "rounded", "pill", "square"],
                "description": "Bubble shape override"
              },
              "position": {
                "type": "object",
                "description": "Custom position as percentages",
                "properties": {
                  "x": { "type": "number", "minimum": 0, "maximum": 100 },
                  "y": { "type": "number", "minimum": 0, "maximum": 100 }
                }
              }
            }
          }
        ]
      },
      "minItems": 1
    },
    "bubbleShape": {
      "type": "string",
      "enum": ["speech", "thought", "rounded", "pill", "square"],
      "default": "speech",
      "description": "Default bubble shape for all callouts"
    },
    "pattern": {
      "type": "string",
      "enum": ["flow", "diagonal", "zigzag", "scattered", "vertical", "horizontal", "grid"],
      "default": "flow",
      "description": "Layout pattern for bubble positioning"
    },
    "animation": {
      "type": "string",
      "enum": ["pop", "float", "slide", "scale", "fade", "bounceIn", "slideIn", "scaleIn", "fadeIn"],
      "default": "float",
      "description": "Animation type for bubble entrance"
    },
    "staggerDelay": {
      "type": "number",
      "default": 0.3,
      "minimum": 0,
      "description": "Delay between callouts in seconds"
    },
    "animationDuration": {
      "type": "number",
      "default": 0.6,
      "minimum": 0.1,
      "description": "Animation duration per callout in seconds"
    },
    "showConnectors": {
      "type": "boolean",
      "default": false,
      "description": "Show connecting lines between callouts"
    },
    "connectorStyle": {
      "type": "string",
      "enum": ["solid", "dashed", "dotted"],
      "default": "dashed",
      "description": "Style of connecting lines"
    },
    "bubbleColor": {
      "type": "string",
      "default": "cardBg",
      "description": "Default bubble background color. Theme keys: cardBg, pageBg, primary, secondary. Or hex/rgb."
    },
    "textColor": {
      "type": "string",
      "default": "textMain",
      "description": "Default text color. Theme keys: textMain, textSoft, textMuted. Or hex/rgb."
    },
    "beats": {
      "type": "object",
      "required": ["start"],
      "properties": {
        "start": {
          "type": "number",
          "description": "Start time in seconds"
        }
      }
    },
    "position": {
      "type": "object",
      "description": "Slot position from layout resolver",
      "properties": {
        "left": { "type": "number" },
        "top": { "type": "number" },
        "width": { "type": "number" },
        "height": { "type": "number" }
      }
    },
    "style": {
      "type": "object",
      "description": "Optional style overrides",
      "properties": {
        "bubbleWrapper": { "type": "object" },
        "bubble": { "type": "object" },
        "content": { "type": "object" },
        "icon": { "type": "object" },
        "text": { "type": "object" }
      }
    }
  },
  "examples": [
    {
      "callouts": [
        { "text": "Start with a clear goal", "icon": "üéØ" },
        { "text": "Break into small steps", "icon": "üìù" },
        { "text": "Celebrate progress!", "icon": "üéâ" }
      ],
      "bubbleShape": "speech",
      "pattern": "diagonal",
      "animation": "float",
      "showConnectors": true,
      "staggerDelay": 0.4,
      "beats": { "start": 1.0 }
    },
    {
      "callouts": [
        { "text": "What if we tried something new?", "shape": "thought" },
        { "text": "That's a great idea!", "shape": "speech" }
      ],
      "pattern": "zigzag",
      "animation": "pop",
      "beats": { "start": 0.5 }
    }
  ],
  "sizingBehavior": {
    "description": "BubbleCalloutSequence adapts to slot dimensions",
    "width": "Bubbles are sized up to 60% of slot width or 400px max",
    "height": "Bubbles are distributed within slot height based on pattern",
    "fontScaling": "Font size scales based on callout count and slot height",
    "positioning": "Bubbles can use auto-layout patterns or custom percentage positions"
  }
}
